<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Aleksi Knuutila">
<meta name="dcterms.date" content="2023-08-21">
<meta name="description" content="Andrew Heiss is working on a bunch of exciting and groundbreaking projects">

<title>What I use | Aleksi Knuutila</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="..//files/favicon-512.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: #771C6D;
      }
</style>


<meta property="og:title" content="What I use | Aleksi Knuutila">
<meta property="og:description" content="Andrew Heiss is working on a bunch of exciting and groundbreaking projects">
<meta property="og:image" content="https://knuutila.net/files/profiles/twitter-card-large.png">
<meta property="og:site-name" content="Aleksi Knuutila">
<meta property="og:locale" content="en_US">
<meta property="og:image:height" content="1257">
<meta property="og:image:width" content="2401">
<meta name="twitter:title" content="What I use | Aleksi Knuutila">
<meta name="twitter:description" content="Andrew Heiss is working on a bunch of exciting and groundbreaking projects">
<meta name="twitter:image" content="https://knuutila.net/files/profiles/twitter-card-large.png">
<meta name="twitter:creator" content="@knuutila">
<meta name="twitter:site" content="@knuutila">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image-height" content="1257">
<meta name="twitter:image-width" content="2401">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Aleksi Knuutila</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog/index.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../research/index.html" rel="" target="">
 <span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../talks/index.html" rel="" target="">
 <span class="menu-text">Talks</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="../atom.xml" rel="" target=""><i class="bi bi-rss" role="img" aria-label="rss">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:aleksi.knuutila@helsinki.fi" rel="" target=""><i class="bi bi-envelope" role="img" aria-label="email">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/knuutila" rel="me" target=""><i class="bi bi-twitter" role="img" aria-label="twitter">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/AleksiKnuutila" rel="me" target=""><i class="bi bi-github" role="img" aria-label="github">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">What I use</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Last updated</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 21, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#writing" id="toc-writing" class="nav-link active" data-scroll-target="#writing">Writing</a></li>
  <li><a href="#development" id="toc-development" class="nav-link" data-scroll-target="#development">Development</a>
  <ul class="collapse">
  <li><a href="#science-and-research" id="toc-science-and-research" class="nav-link" data-scroll-target="#science-and-research">Science and research</a></li>
  <li><a href="#web" id="toc-web" class="nav-link" data-scroll-target="#web">Web</a></li>
  <li><a href="#miscellaneous" id="toc-miscellaneous" class="nav-link" data-scroll-target="#miscellaneous">Miscellaneous</a></li>
  </ul></li>
  <li><a href="#desktop-apps" id="toc-desktop-apps" class="nav-link" data-scroll-target="#desktop-apps">Desktop apps</a>
  <ul class="collapse">
  <li><a href="#graphic-design" id="toc-graphic-design" class="nav-link" data-scroll-target="#graphic-design">Graphic design</a></li>
  <li><a href="#productivity" id="toc-productivity" class="nav-link" data-scroll-target="#productivity">Productivity</a></li>
  </ul></li>
  <li><a href="#hardware" id="toc-hardware" class="nav-link" data-scroll-target="#hardware">Hardware</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>People often ask me what programs I use for my writing and design. In truth, my workflow tends to look like <a href="https://xkcd.com/1579/">this</a> or <a href="https://xkcd.com/1172/">this</a>, but here’s a more detailed list of all the interconnected programs I use.</p>
<p>I try to keep this updated fairly regularly. As of August 21, 2023 this is what I’m using:</p>
<section id="writing" class="level2">
<h2 class="anchored" data-anchor-id="writing">Writing</h2>
<ul>
<li>I permanently ditched Word as a writing environment in 2008 after starting grad school. I do all my writing in <a href="http://pandoc.org/">pandoc-flavored</a> <a href="https://daringfireball.net/projects/markdown/">Markdown</a> (including e-mails and paper-and-pencil writing)—it’s incredibly intuitive, imminently readable, flexible, future proof, and lets me ignore formatting and focus on content.</li>
<li>I live in <a href="http://ulyssesapp.com/">Ulysses</a>. At first I chafed at the fact that it stores everything in its own internal folder structure, since I store most of my writing in git repositories, but exporting a compiled Markdown file from a bunch of Ulysses sheets is trivial (and still easily trackable in version control).</li>
<li>Ulysses has decent HTML previewing powers, but when I need more editorial tools, I use <a href="http://marked2app.com/">Marked</a>.</li>
<li>I use <a href="https://typora.io/">Typora</a> to edit standalone Markdown files, since Ulysses uses its own syntax when using fancy things like footnotes. Typora is my favorite standalone Markdown editor I’ve found so far because it inherently supports pandoc-flavored Markdown.</li>
<li>The key to my writing workflow is the magical <a href="http://pandoc.org/">pandoc</a>, which converts Markdown files into basically anything else. I use <a href="https://github.com/andrewheiss/Global-Pandoc-files">my own variation</a> of Kieran Healy’s <a href="http://plain-text.co/">Plain Text Social Science workflow</a> to convert Markdown to HTML, PDF (through LaTeX), and Word (through LibreOffice).</li>
<li>I store all my bibliographic references, books, and articles in Zotero (<a href="../blog/2023/01/08/bibdesk-to-zotero-pandoc/">see here for why</a>).</li>
<li>I read and annotate all my PDFs with <a href="http://skim-app.sourceforge.net/">Skim</a> (and <a href="http://www.iannotate.com/">iAnnotate</a> on iOS), since both export annotations as clean plain text.</li>
<li>I store all my notes in <a href="https://obsidian.md/">Obsidian</a>. Before switching to Obsidian I used <a href="https://bear.app/">Bear</a>, which was great but didn’t support fancier things like math or syntax highlighting. Before that, I used <a href="https://www.evernote.com/">Evernote</a>, but I abandoned it in September 2018 after 9 years of heavy use, given their ongoing privacy controversies and mass layoffs.</li>
</ul>
</section>
<section id="development" class="level2">
<h2 class="anchored" data-anchor-id="development">Development</h2>
<section id="science-and-research" class="level3">
<h3 class="anchored" data-anchor-id="science-and-research">Science and research</h3>
<ul>
<li>I post almost everything I write or develop on <a href="https://github.com/andrewheiss">GitHub</a>.</li>
<li>I use <a href="https://www.r-project.org/">R</a> and <a href="https://www.rstudio.com/">RStudio</a> for most of my statistical computing, and I’m a dedicated devotee of the <a href="http://tidyverse.org/">tidyverse</a>. In the interest of full reproducibility and transparency, I make <a href="https://rmarkdown.rstudio.com/rmarkdown_websites.html">R Markdown websites</a> for each of my projects. I don’t typically make full-blown literate documents (like, I have yet to write a full article or book in R Markdown)—instead, I generate figures and tables with R and reference them in my writing. <a href="https://stats.andrewheiss.com/">See a list of these websites</a>.</li>
<li>I also use <a href="https://www.python.org/">Python</a> (<a href="http://www.onthelambda.com/2014/05/13/damn-the-torpedoes-full-speed-ahead-making-the-switch-to-python-3/">3!</a>) pretty regularly, especially for natural language processing (with <a href="http://www.nltk.org/">nltk</a>) and web scraping (with <a href="https://requests.readthedocs.io/en/master/">Requests</a> + <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">BeautifulSoup</a>). Every few months I play with pandas and numpy and Jupyter, but I’m far more comfortable with R for scientific computing.</li>
<li>I use RStudio for editing R files, but I use <a href="https://code.visualstudio.com/">Visual Studio Code</a> for everything else.</li>
<li>I adapted the idea for research haikus <a href="https://kirbyknielsen.com/research/">from Kirby Nielsen</a>.</li>
<li>I use <a href="https://rogue-scholar.org/blogs/andrewheiss">The Rogue Scholar</a> to create stable DOIs for each of my blog posts.</li>
</ul>
</section>
<section id="web" class="level3">
<h3 class="anchored" data-anchor-id="web">Web</h3>
<ul>
<li>I run my main web server on a <a href="https://www.digitalocean.com/">DigitalOcean</a> droplet, and <a href="https://github.com/andrewheiss/cloud-config-files">I spin up temporary droplets all the time</a> to offload scraping scripts, complicated R models, and to create on-the-fly VPNs.</li>
<li>I normally access my remote files through SSH in a terminal, but for more complicated things, I’ve found that <a href="https://mountainduck.io/">Mountain Duck</a> is indispensable.</li>
<li>My website uses <a href="http://blog.getpelican.com/">Pelican</a>. My teaching websites all use <a href="https://bookdown.org/yihui/blogdown/">blogdown + Hugo</a>.</li>
<li>I use <a href="https://letsencrypt.org/">Let’s Encrypt</a> for SSL.</li>
</ul>
</section>
<section id="miscellaneous" class="level3">
<h3 class="anchored" data-anchor-id="miscellaneous">Miscellaneous</h3>
<ul>
<li>I use a <a href="https://www.iterm2.com/features.html#hotkey-window">system-wide hotkey</a> (<code>ctrl + `</code>) to open <a href="https://www.iterm2.com/">iTerm2</a> from anywhere.</li>
<li>I use <a href="http://brew.sh/">Homebrew</a> to install Unix-y programs.</li>
<li>I’m partial to both <a href="https://github.com/tonsky/FiraCode">Fira Code</a> and <a href="https://en.wikipedia.org/wiki/Consolas">Consolas</a> for my monospaced fonts.</li>
</ul>
</section>
</section>
<section id="desktop-apps" class="level2">
<h2 class="anchored" data-anchor-id="desktop-apps">Desktop apps</h2>
<section id="graphic-design" class="level3">
<h3 class="anchored" data-anchor-id="graphic-design">Graphic design</h3>
<ul>
<li>Though I regularly use LaTeX (through pandoc), I adore <a href="https://www.adobe.com/products/indesign.html">InDesign CC</a> and use it to make fancier academic and policy documents. I also used it for <a href="https://github.com/andrewheiss/maxwell-institute-typesetting/blob/master/books-i-made.md">all the typesetting I did</a> for <a href="http://mi.byu.edu/">BYU’s Neal A. Maxwell Institute</a>.</li>
<li>I use <a href="https://www.adobe.com/products/illustrator.html">Illustrator CC</a> all the time to enhance graphics I make in R and to make non-data-driven figures and diagrams.</li>
<li>I use <a href="https://www.adobe.com/products/photoshop-lightroom.html">Lightroom</a> and <a href="https://www.adobe.com/products/photoshop.html">Photoshop</a> too, but less often nowadays.</li>
<li>Despite my dislike for Word and Excel, I use PowerPoint for all my presentations. It’s not my favorite, but in the apocryphal words of Churchill, “PowerPoint is the worst form of slide editor, except for all the others.”</li>
</ul>
</section>
<section id="productivity" class="level3">
<h3 class="anchored" data-anchor-id="productivity">Productivity</h3>
<ul>
<li>My secret for avoiding the siren call of the internet is <a href="https://freedom.to/">Freedom</a>. I have two blocklists: (1) <em>antisocial</em>, which blocks Facebook and Twitter, and (2) <em>nuclear</em>, which blocks everything. I have the antisocial blocklist enabled on my laptop and phone from 8:00 AM–6:00 PM and 8:30 PM–11:30 PM. Since I accidentally discovered that it’s relatively easy to circumvent the blocking on the Mac, I also use <a href="https://heyfocus.com/">Focus</a> with the same schedule.</li>
<li>I use <a href="http://www.publicspace.net/Vitamin-R/">Vitamin-R</a> as a souped-up Pomodoro timer.</li>
<li>I was an early convert to <a href="http://todotxt.com/">Todo.txt</a> and used it for years until my tasks and projects got too unwieldy. I switched to <a href="https://www.taskpaper.com/">Taskpaper</a> for a while, used <a href="http://www.2doapp.com/">2Do</a> for a couple years, and now I’m a convert to <a href="https://www.omnigroup.com/omnifocus">OmniFocus</a>.</li>
<li><a href="https://flexibits.com/fantastical">Fantastical 2</a>’s natural language input is a glorious thing.</li>
<li>I use <a href="https://timeryapp.com/">Timery</a> as an interface to <a href="https://toggl.com/">Toggl</a> to <a href="https://thesweetsetup.com/apps/best-time-tracking-app/">track my time</a> during the day</li>
<li>I keep a log of what I work on (and occasionally do more traditional diary-like entries) with <a href="http://dayoneapp.com/">Day One</a> on both iOS and macOS.</li>
<li>I use <a href="https://smilesoftware.com/textexpander">TextExpander</a> to replace and expand a ton of snippets, and I use <a href="https://www.keyboardmaestro.com/main/">Keyboard Maestro</a> to run dozens of little scripts that help control my computer with the keyboard.</li>
<li>I use <a href="http://tracesof.net/uebersicht/">Übersicht</a> to show weather, iTunes track information, and my todo lists on my desktop.</li>
<li>I use <a href="https://www.dropbox.com">Dropbox</a> religiously and use <a href="https://www.backblaze.com/">Backblaze</a> to back up all the computers in our house to the cloud.</li>
<li>With all these little helper apps, I use <a href="https://www.macbartender.com/">Bartender</a> to keep my menubar clean.</li>
</ul>
</section>
</section>
<section id="hardware" class="level2">
<h2 class="anchored" data-anchor-id="hardware">Hardware</h2>
<ul>
<li>I use a 2021 14″ M1 Max MacBook Pro, a 2018 15″ MacBook Pro, a 5th generation iPad, and an iPhone 8.</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left"><span class="faux-block"><i class="fa-brands fa-creative-commons" aria-label="creative-commons"></i> 2007–2022 Aleksi Knuutila</span> <span class="faux-block">All content licensed under<br><a href="https://creativecommons.org/licenses/by/4.0/"><i class="fa-brands fa-creative-commons" aria-label="creative-commons"></i> <i class="fa-brands fa-creative-commons-by" aria-label="creative-commons-by"></i> Creative Commons CC BY 4.0</a></span><br>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right"><span class="faux-block">Made with <a href="https://quarto.org/">Quarto</a></span> <span class="faux-block"><a href="https://github.com/andrewheiss/ath-quarto">View the source at <i class="fa-brands fa-github" aria-label="github"></i> GitHub</a></span></div>
  </div>
</footer>



</body></html>